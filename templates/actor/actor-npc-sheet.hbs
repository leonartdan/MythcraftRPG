<form class="{{cssClass}} {{actor.type}} flexcol" autocomplete="off">

  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="NPC Name"/></h1>
      <div class="grid grid-3col">
        <div class="resource">
          <label class="resource-label">CR</label>
          <input type="number" name="system.cr.value" value="{{system.cr.value}}" data-dtype="Number"/>
        </div>
        <div class="resource">
          <label class="resource-label">Type</label>
          <input type="text" name="system.type.value" value="{{system.type.value}}" placeholder="humanoid"/>
        </div>
        <div class="resource">
          <label class="resource-label">Size</label>
          <select name="system.size.value">
            <option value="tiny" {{#if (eq system.size.value "tiny")}}selected{{/if}}>Tiny</option>
            <option value="small" {{#if (eq system.size.value "small")}}selected{{/if}}>Small</option>
            <option value="medium" {{#if (eq system.size.value "medium")}}selected{{/if}}>Medium</option>
            <option value="large" {{#if (eq system.size.value "large")}}selected{{/if}}>Large</option>
            <option value="huge" {{#if (eq system.size.value "huge")}}selected{{/if}}>Huge</option>
            <option value="gargantuan" {{#if (eq system.size.value "gargantuan")}}selected{{/if}}>Gargantuan</option>
          </select>
        </div>
      </div>
    </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="main">Main</a>
    <a class="item" data-tab="inventory">Inventory</a>
    <a class="item" data-tab="spells">Spells</a>
    <a class="item" data-tab="biography">Biography</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">
    
    {{!-- Main Tab --}}
    <div class="tab main" data-group="primary" data-tab="main">
      
      {{!-- Core Stats --}}
      <div class="grid grid-2col">
        {{!-- Health --}}
        <div class="resource health">
          <label class="resource-label">Health</label>
          <div class="resource-content flexrow flex-center flex-between">
            <input type="number" name="system.health.value" value="{{system.health.value}}" data-dtype="Number"/>
            <span> / </span>
            <input type="number" name="system.health.max" value="{{system.health.max}}" data-dtype="Number"/>
          </div>
          <div class="resource-content">
            <label>Temp HP:</label>
            <input type="number" name="system.health.temp" value="{{system.health.temp}}" data-dtype="Number"/>
          </div>
        </div>

        {{!-- Action Points --}}
        <div class="resource action-points">
          <label class="resource-label">Action Points</label>
          <div class="resource-content flexrow flex-center flex-between">
            <input type="number" name="system.actionPoints.value" value="{{system.actionPoints.value}}" data-dtype="Number"/>
            <span> / </span>
            <input type="number" name="system.actionPoints.max" value="{{system.actionPoints.max}}" data-dtype="Number"/>
          </div>
          <div class="resource-content">
            <label>Speed:</label>
            <input type="number" name="system.speed.value" value="{{system.speed.value}}" data-dtype="Number"/>
            <span>{{system.speed.units}}</span>
          </div>
        </div>
      </div>

      {{!-- Attributes --}}
      <div class="attributes">
        <h3>Attributes</h3>
        <div class="grid grid-4col">
          {{#each system.attributes as |attribute key|}}
          <div class="attribute">
            <label class="attribute-label">{{capitalize key}}</label>
            <div class="attribute-value">
              <input type="number" name="system.attributes.{{key}}.value" value="{{attribute.value}}" data-dtype="Number"/>
            </div>
            <div class="attribute-mod">
              <span>{{numberFormat attribute.mod decimals=0 sign=true}}</span>
            </div>
          </div>
          {{/each}}
        </div>
      </div>

      {{!-- Defenses --}}
      <div class="defenses">
        <h3>Defenses</h3>
        <div class="grid grid-3col">
          {{#each system.defenses as |defense key|}}
          <div class="defense">
            <label class="defense-label">{{capitalize key}}</label>
            <div class="defense-value flexrow">
              <input type="number" name="system.defenses.{{key}}.value" value="{{defense.value}}" data-dtype="Number"/>
              <span>+</span>
              <input type="number" name="system.defenses.{{key}}.bonus" value="{{defense.bonus}}" data-dtype="Number"/>
            </div>
          </div>
          {{/each}}
        </div>
      </div>

      {{!-- Skills --}}
      <div class="skills">
        <h3>Skills</h3>
        <div class="items-list">
          <ol class="items-list">
            {{#each skills as |skill i|}}
            <li class="item flexrow" data-item-id="{{skill._id}}">
              <div class="item-name">{{skill.name}}</div>
              <div class="item-formula">
                <span class="rollable" data-roll="1d20+{{skill.system.mod}}" data-label="{{skill.name}}">
                  {{numberFormat skill.system.mod decimals=0 sign=true}}
                </span>
              </div>
              <div class="item-controls">
                <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
              </div>
            </li>
            {{/each}}
          </ol>
        </div>
        <div class="item-create">
          <a class="item-create" data-type="skill">Add Skill</a>
        </div>
      </div>

    </div>

    {{!-- Inventory Tab --}}
    <div class="tab inventory" data-group="primary" data-tab="inventory">
      {{> "systems/mythcraft/templates/actor/parts/actor-inventory.hbs"}}
    </div>

    {{!-- Spells Tab --}}
    <div class="tab spells" data-group="primary" data-tab="spells">
      {{> "systems/mythcraft/templates/actor/parts/actor-spells.hbs"}}
    </div>

    {{!-- Biography Tab --}}
    <div class="tab biography" data-group="primary" data-tab="biography">
      <div class="biography">
        <label>Biography</label>
        {{editor content=system.biography.value target="system.biography.value" button=true owner=owner editable=editable}}
      </div>
      
      <div class="notes">
        <label>Notes</label>
        {{editor content=system.notes target="system.notes" button=true owner=owner editable=editable}}
      </div>
    </div>

  </section>

</form>